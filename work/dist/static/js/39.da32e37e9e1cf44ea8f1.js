webpackJsonp([39,98],{6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcBAMAAABv4amZAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAVUExURUxpcb6+vry8vL6+vsLCwsLCwr29vRVsyJEAAAAGdFJOUwCd34AuFb7ou7gAAAB/SURBVBjTfZAxDoAgDEWLxt2J2cSEc7Do7OSOJr3/EaRCof5BFtq+T/ktjSu1I/HAc8v9lWucNHV8S7EJSuRUoIEK9K71pqug93lJxwV54yMzi0UQDBbBBxMFXuiHw3vsD/+jP/CP88H8uB/Yn7P7zeFu98+RzmR9HjRFM8dGD04XIkkvW/edAAAAAElFTkSuQmCC"},15:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{flag:!0}},props:["button"],methods:{click:function(e){var t=this;if(t.flag){t.flag=!1;var i=setTimeout(function(){t.flag=!0,clearTimeout(i)},1e3);"function"==typeof t.button.click&&t.button.click(e)}}}}},16:function(e,t){e.exports=' <button v-bind:class="[button.class, touchclass]" v-on:click=click($event)>{{ button.name }}</button> '},17:function(e,t,i){var n,s,r={};n=i(15),s=i(16),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports.default);var o="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(o.template=s),o.computed||(o.computed={}),Object.keys(r).forEach(function(e){var t=r[e];o.computed[e]=function(){return t}})},155:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(17),r=n(s),o={phone:{model:"",reg:regexp.phone,err:"请填写正确的手机号"},imgCode:{ticket:"",show:!1},sms:{model:"",reg:regexp.empty,err:"请填写短信验证码",btntitle:"点击获取",btn:"获取验证码",timeall:60,timenow:60},password:{model:"",reg:regexp.password,err:"请填写6-16位数字或字母的密码"},user_code:"",submit:{name:"立即领取",class:"btn",click:""},status:0,err:"",agree:!0,title:"",desc:"",link:"",imgUrl:"",appId:"",timestamp:"",nonceStr:"",signature:""};t.default={data:function(){return o.submit.click=this.submitClick,o.user_code=sysinfo.getQueryString("sharecode")||"",o},ready:function(){sysinfo.isWeiXin&&(o.title="现金借款神器，申请简单、极速放款！",o.desc="10秒注册，88秒放款，20元代金券直接送！",o.link=location.origin+location.pathname+"?sharecode="+o.user_code+"#!/active/invite/register",o.imgUrl=location.origin+location.pathname+"/static/img/active/invite/logo.png",this.loadWxJsSdk())},methods:{close:function(){o.status=0},check:function(e){var t=o[e];if(t.reg(t.model))return o.err="",!0;o.err=t.err;try{document.querySelector('[name="'+e+'"]').focus()}catch(e){}return!1},initImgCode:function(){var e={callback:function(e){0==e.ret&&(o.imgCode.ticket=e.ticket,o.imgCode.show=!1)},showHeader:!1,themeColor:"939CFF"};return"function"==typeof capInit?void capInit(document.getElementById("img-code-wrap"),e):void ajax.get("/v3/action/captcha").then(function(t,i){if(0==i.code){var n=document.createElement("script");n.src=i.data.url,document.body.appendChild(n),n.onload=function(){capInit(document.getElementById("img-code-wrap"),e)}}})},showImgCode:function(){"function"==typeof capRefresh?capRefresh():this.initImgCode(),o.imgCode.show=!0,o.imgCode.ticket=""},getSms:function(){if(this.check("phone")&&o.sms.timenow==o.sms.timeall){o.sms.timenow=o.sms.timeall-1,o.sms.btn=o.sms.timenow+" s";var e=this.showImgCode;ajax.get("/v2/user/send-sms-code",{phone:o.phone.model,ticket:o.imgCode.ticket}).then(function(t,i){if(0==i.code)var n=setInterval(function(){--o.sms.timenow?o.sms.btn=o.sms.timenow+" s":(o.sms.btn=o.sms.btntitle,o.sms.timenow=o.sms.timeall,clearInterval(n))},1e3);else 106002==i.code||106003==i.code?e():101004==i.code?o.status=2:layer.warning(i.message),o.sms.btn=o.sms.btntitle,o.sms.timenow=o.sms.timeall}).catch(function(e,t){o.sms.btn=o.sms.btntitle,o.sms.timenow=o.sms.timeall,layer.warning("出错啦，请稍后尝试 - "+t.status)}).complete(function(){o.imgCode.ticket=""})}},submitClick:function(){var e=this;if(o.agree&&e.check("phone")&&e.check("sms")&&e.check("password")){var t=layer.loading2(!1);ajax.post("/v3/user/register",{phone:o.phone.model,verify_code:o.sms.model,password:o.password.model,ticket:o.imgCode.ticket,user_code:o.user_code}).then(function(t,i){0==i.code?e.$router.go("/active/invite/success"):106002==i.code||106003==i.code?e.showImgCode():101004==i.code?o.status=2:layer.warning(i.message)}).complete(function(){layer.close(t),o.imgCode.ticket=""})}},switchAgree:function(){o.agree=!o.agree},loadWxJsSdk:function(){if("undefined"==typeof wx){var e=document.createElement("script");e.src="./static/js/jweixin-1.0.0.js",e.onload=this.getSignature,document.body.appendChild(e)}else this.getSignature()},getSignature:function(){var e=this;ajax.get("/v1/wechat/sign").then(function(t,i){0==i.code&&(o.appId=i.data.appId,o.timestamp=i.data.timestamp,o.nonceStr=i.data.nonceStr,o.signature=i.data.signature,e.initWxShare())})},initWxShare:function(){wx.config({appId:o.appId,timestamp:o.timestamp,nonceStr:o.nonceStr,signature:o.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ"]}),wx.ready(function(){wx.onMenuShareTimeline({title:o.title,link:o.link,imgUrl:o.imgUrl,success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:o.title,desc:o.desc,link:o.link,imgUrl:o.imgUrl,type:"",dataUrl:"",success:function(){},cancel:function(){}}),wx.onMenuShareQQ({title:o.title,desc:o.desc,link:o.link,imgUrl:o.imgUrl,success:function(){},cancel:function(){}})})}},components:{DButton:r.default},destroyed:function(){o.imgCode.ticket="","function"==typeof capDestroy&&capDestroy()}}},284:function(e,t,i){t=e.exports=i(1)(),t.push([e.id,".clearboth{clear:both}.active-invite-register{background:url("+i(517)+') no-repeat top;background-size:100% auto;box-sizing:border-box;min-height:100%;padding-bottom:3rem}.active-invite-register .banner{display:block;width:100%}.active-invite-register .content{padding:0 1.8rem}.active-invite-register .content .fs16{padding:2.4rem 1.2rem;background:rgba(98,21,177,.54)}.active-invite-register a.btn{width:auto}.active-invite-register .smt-btn,.active-invite-register .sure-btn{padding-bottom:.4rem;border-radius:.3rem;background-color:rgba(201,140,23,.5)}.active-invite-register .smt-btn .btn,.active-invite-register .sure-btn .btn{border-radius:.3rem}.active-invite-register .btn{color:#430070;background-color:#ffb830}.active-invite-register .btn.disabled{background:#dbdbdb}.active-invite-register .input-wrap{display:inline-block;background:#fff;margin-bottom:1.4rem;padding:0 .9rem;width:100%;height:2.8rem;line-height:2.8rem;border-radius:.3rem;box-sizing:border-box;box-shadow:0 0 .2rem #620aff}.active-invite-register input{width:100%}.active-invite-register .sms-area>.fl{width:68%}.active-invite-register .sms-area>.fr{width:32%}.active-invite-register .sms-area>.fr>.sms-btn{border-radius:0 .3rem .3rem 0;background-color:#e6e6e6;font-size:1.4rem;color:#000}.active-invite-register .sms-area .input-wrap{border-radius:.3rem 0 0 .3rem}.active-invite-register .sms-btn{height:2.8rem;padding:0;border-radius:.6rem}.active-invite-register .err-hint{clear:both;color:#ffc800;margin:.4rem 0 1.2rem}.active-invite-register .protocol-link{padding:.6rem 0 2.6rem;margin-top:1.4rem}.active-invite-register .protocol-link>*{vertical-align:middle}.active-invite-register .agree{display:inline-block;background:#fff;padding:.5rem;border-radius:.3rem}.active-invite-register .agree:after{content:"";display:block;background:none;width:.8rem;height:.8rem;border-radius:.8rem}.active-invite-register .active:after{background:#893dff}.active-invite-register .c-link{color:#fff}.active-invite-register .foot-icp{font-size:1.4rem;padding:3rem 0;color:#430070}.active-invite-register .layermchild{width:28rem}.active-invite-register .layermcont{padding:0 3rem 3rem}.active-invite-register .close-wrap{margin:1rem 2rem 0;text-align:right}.active-invite-register .close-btn{display:inline-block;padding:1rem;background:url('+i(6)+") no-repeat 50%;background-size:1.6rem;width:1.6rem;height:1.6rem}",""])},388:function(e,t,i){var n=i(284);"string"==typeof n&&(n=[[e.id,n,""]]);i(2)(n,{});n.locals&&(e.exports=n.locals)},517:function(e,t,i){e.exports=i.p+"static/img/register-bg-0.8cc8c81.png"},519:function(e,t,i){e.exports=i.p+"static/img/share-banner-1.dd260a2.png"},627:function(e,t,i){e.exports=" <section class=active-invite-register> <img class=banner src="+i(519)+' alt=""> <div class=content> <div class=fs16 v-show="status != 1"> <div> <div class=input-wrap> <input name=phone type=tel v-model=phone.model placeholder=请输入您的手机号码 maxlength=11> </div> </div> <div> <div class=input-wrap> <input name=password type=password v-model=password.model placeholder=设置登录密码（6-16位数字或字母） maxlength=16> </div> </div> <div v-show=imgCode.show> <div id=img-code-wrap></div> </div> <div class=sms-area> <div class=fl> <div class="sms-input input-wrap"> <input name=sms type=text v-model=sms.model placeholder=请输入短信验证码> </div> </div> <div class=fr> <button class="sms-btn btn" :class="sms.timeall != sms.timenow && \'disabled\'" @click=getSms()>{{ sms.btn }}</button> </div> </div> <div class="err-hint tac fs14">{{ err }}</div> <div class="protocol-link fs14 c-white clearboth"> <i class=agree :class="agree && \'active\'" @click=switchAgree(agree)></i> <span>我已阅读并同意</span> <a class=c-link v-link="\'/user/service-protocol\'">《贷上钱服务协议》</a> </div> <div class=smt-btn> <d-button v-bind:button.sync=submit :class="!agree && \'disabled\'"></d-button> </div> </div> </div> <div class=layermbox0 v-show="status == 2"> <div class=laymshade></div> <div class=layermmain> <div class=section> <div class="layermchild layermanim"> <div class=close-wrap> <i class=close-btn @click=close()></i> </div> <div class="layermcont fs15"> <p class=tac>您的手机已经注册过贷上钱账户，请前往APP登录</p> <br> <div class=sure-btn> <a href="http://a.app.qq.com/o/simple.jsp?pkgname=com.qsq.paydayloan" class=btn>登录领取</a> </div> </div> </div> </div> </div> </div> </section> '},728:function(e,t,i){var n,s,r={};i(388),n=i(155),s=i(627),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports.default);var o="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(o.template=s),o.computed||(o.computed={}),Object.keys(r).forEach(function(e){var t=r[e];o.computed[e]=function(){return t}})}});